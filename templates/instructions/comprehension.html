{% extends "layout.html" %}

{% block body %}
    <div class="main_div">
        <h1>Comprehension check</h1>

        <hr>

        <p>To check your understanding of the study, please answer the following questions. Make sure to check your answers carefully before clicking "continue".</p> 

        <div class = "row" style = "display:none">
                <div class = "col-md-12 text-center">
                    <h4>Player 1's task is easier than player 2's task.</h4>
                    <h5 id = "Task"><b>True</b></h5>
                </div>
        </div>

        <div class = "row" style = "display:none">
                <div class = "col-md-3 text-center"></div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Task', 'True')">TRUE</button>
                </div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Task', 'False')">FALSE</button>
                </div>
                <div class = "col-md-3 text-center"></div>
        </div> 

        <br>

        <div class = "row">
                <div class = "col-md-12 text-center">
                    <h4>Question 1) The correct answer for player 1 is the same as the correct answer for player 2 for each question.</h4>
                    <h5 id = "Answer"><b>...</b></h5>
                </div>
        </div>

        <div class = "row">
                <div class = "col-md-3 text-center"></div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Answer', 'True')">TRUE</button>
                </div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Answer', 'False')">FALSE</button>
                </div>
                <div class = "col-md-3 text-center"></div>
        </div> 

        <br>

        <div class = "row" style = "display:none">
                <div class = "col-md-12 text-center">
                    <h4>The advice left by player 1 may not be what they actually answered.</h4>
                    <h5 id = "Advice"><b>True</b></h4>
                </div>
        </div>

        <div class = "row" style = "display:none">
                <div class = "col-md-3 text-center"></div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Advice', 'True')">TRUE</button>
                </div>
                <div class = "col-md-3 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Advice', 'False')">FALSE</button>
                </div>
                <div class = "col-md-3 text-center"></div>
        </div>

        <br>

        <div class = "row">
                <div class = "col-md-12 text-center">
                    <h4>Question 2) What happens when either player gets a question correct?</h4>
                    <h5 id = "Bonus"><b>...</b></h5>
                </div>
        </div>

        <div class = "row">
                <div class = "col-md-4 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Bonus', 'Both players earn a $0.05 bonus')">Both players earn a $0.05 bonus</button>
                </div>
                <div class = "col-md-4 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Bonus', '$0.10 is added to their bonus fund. When a player gets a question wrong, $0.10 is added to the bonus fund of the other player')">$0.10 is added to their bonus fund. When a player gets a question wrong, $0.10 is added to the bonus fund of the other player</button>
                </div>
                <div class = "col-md-4 text-center">
                    <button type = "button" class = "btn btn-success" onClick="pingButton('Bonus', 'They earn a $0.10 bonus')">They earn a $0.10 bonus</button>
                </div>
        </div>

        <br>

        <h4 id = "warning" style = "display:none;color:red">One or more of your answers was incorrect. Check your answers carefully and try again. </h4>                                     

        <hr>

        <div class = "row">
            <div class="col-md-10"></div>
            <div class="col-md-2"> 
             <button id = "continue-button" type="button" class="btn btn-success btn-lg" onClick="attemptAdvance();">Continue</button>
             </div>
        </div>        
    </div>
{% endblock %}

{% block scripts %}
<script>
    determineCondition();
    questionAttempts = dallinger.storage.get("attempts");
    pageAttempts = 0;

    var button = document.getElementById("continue-button");
    function disableButtonBriefly() {
      button.disabled = true; // Disable the button
      setTimeout(function() {
        button.disabled = false; // Re-enable the button after a delay
      }, 1500);
    }
    button.addEventListener("click", disableButtonBriefly);
</script>
{% endblock %}

{% block libs %}
{{ super() }}
<script src="/static/scripts/instructions.js" type="text/javascript"> </script>
{% endblock %}
